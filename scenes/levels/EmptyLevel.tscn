[gd_scene load_steps=8 format=3 uid="uid://pr634qx7od1q"]

[ext_resource type="PackedScene" path="res://scenes/visual/TiledSprite.tscn" id="2_8vkbe"]
[ext_resource type="Shader" path="res://scripts/shaders/BlendTexture.gdshader" id="3_m7jye"]
[ext_resource type="Texture2D" uid="uid://dbb4ktvlrhst5" path="res://content/sprites/ground/dithering.png" id="4_ew0rv"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_scqag"]
shader = ExtResource("3_m7jye")
shader_parameter/img_color = Color(0.568627, 0.109804, 0.301961, 0.678431)
shader_parameter/img_scale = 2.0
shader_parameter/scale_factor = Vector2(40, 40)
shader_parameter/img_texture = ExtResource("4_ew0rv")

[sub_resource type="Shader" id="Shader_pvgnp"]
code = "shader_type canvas_item;

uniform sampler2D img_texture: filter_nearest, repeat_enable;
uniform vec4 img_color: source_color;
uniform float img_scale = 1.0;
uniform vec2 scale_factor = vec2(1.0);


void fragment(){
	vec2 uv = UV * scale_factor / img_scale;
	vec4 base_pixel = texture(TEXTURE, uv);
	vec4 texture_pixel = texture(img_texture, uv);
	
	texture_pixel.rgb = vec3(img_color.rgb);
	
	COLOR.rgb = mix(base_pixel.rgb, texture_pixel.rgb, texture_pixel.a * img_color.a);
}


"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_bikwy"]
load_path = "res://.godot/imported/dithering.png-68705377a7ff6e705a07772292bfa533.s3tc.ctex"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_qt0lk"]
shader = SubResource("Shader_pvgnp")
shader_parameter/img_color = Color(0.313726, 0.498039, 0.207843, 1)
shader_parameter/img_scale = 2.0
shader_parameter/scale_factor = Vector2(30, 30)
shader_parameter/img_texture = SubResource("CompressedTexture2D_bikwy")

[node name="BaseLevel" type="Node2D"]

[node name="RootWalkCells" type="Node2D" parent="."]
metadata/_edit_group_ = true
metadata/_edit_lock_ = true

[node name="RootVisual" type="Node2D" parent="."]

[node name="Background" parent="RootVisual" instance=ExtResource("2_8vkbe")]
self_modulate = Color(0.631373, 0.631373, 0.631373, 1)
material = SubResource("ShaderMaterial_scqag")
use_parent_material = true
position = Vector2(480, 480)
scale = Vector2(40, 40)
metadata/_edit_lock_ = true

[node name="Background2" parent="RootVisual" instance=ExtResource("2_8vkbe")]
self_modulate = Color(0.701961, 0.701961, 0.701961, 1)
material = SubResource("ShaderMaterial_qt0lk")
use_parent_material = true
position = Vector2(480, 480)
scale = Vector2(30, 30)
metadata/_edit_lock_ = true

[node name="RootWalkHint" type="Node2D" parent="."]

[node name="RootObsCells" type="Node2D" parent="."]

[node name="RootUnits" type="Node2D" parent="."]
