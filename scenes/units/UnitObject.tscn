[gd_scene load_steps=19 format=2]

[ext_resource path="res://scripts/units/UnitAnimator.gd" type="Script" id=1]
[ext_resource path="res://data/models/player2/y bot 2.tscn" type="PackedScene" id=3]
[ext_resource path="res://scripts/units/UnitObject.gd" type="Script" id=4]
[ext_resource path="res://data/vfx/muzzle flesh.tscn" type="PackedScene" id=5]
[ext_resource path="res://scripts/units/UnitVisual.gd" type="Script" id=6]

[sub_resource type="AnimationNodeAnimation" id=21]
animation = "hit"

[sub_resource type="AnimationNodeAnimation" id=8]
animation = "idle-loop"

[sub_resource type="AnimationNodeAnimation" id=9]
animation = "shoot-loop"

[sub_resource type="AnimationNodeAnimation" id=10]
animation = "running-loop"

[sub_resource type="AnimationNodeStateMachineTransition" id=11]
xfade_time = 0.3

[sub_resource type="AnimationNodeStateMachineTransition" id=13]
switch_mode = 2
auto_advance = true
xfade_time = 0.3

[sub_resource type="AnimationNodeStateMachineTransition" id=14]
xfade_time = 0.3

[sub_resource type="AnimationNodeStateMachineTransition" id=16]
xfade_time = 0.3

[sub_resource type="AnimationNodeStateMachineTransition" id=22]

[sub_resource type="AnimationNodeStateMachineTransition" id=23]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachine" id=17]
states/Hit/node = SubResource( 21 )
states/Hit/position = Vector2( 200.026, -92.2599 )
states/Idle/node = SubResource( 8 )
states/Idle/position = Vector2( 200.013, 48.5 )
states/Shooting/node = SubResource( 9 )
states/Shooting/position = Vector2( 505, 5 )
states/Walking/node = SubResource( 10 )
states/Walking/position = Vector2( 514.875, 140.5 )
transitions = [ "Idle", "Walking", SubResource( 11 ), "Shooting", "Idle", SubResource( 13 ), "Walking", "Idle", SubResource( 14 ), "Idle", "Shooting", SubResource( 16 ), "Idle", "Hit", SubResource( 22 ), "Hit", "Idle", SubResource( 23 ) ]
start_node = "Idle"
graph_offset = Vector2( -318.015, -51 )

[sub_resource type="AnimationNodeStateMachinePlayback" id=20]

[sub_resource type="CapsuleShape" id=7]
radius = 0.350318

[node name="UnitObject" type="Spatial"]
script = ExtResource( 4 )
player_color = Color( 0.196078, 0.729412, 0.913725, 1 )
enemy_color = Color( 0.870588, 0.431373, 0.431373, 1 )
path_to_hit_points = NodePath("UnitVisual/HitPoints")
path_to_shoot_point = NodePath("UnitVisual/muzzle flesh")

[node name="UnitVisual" type="Spatial" parent="."]
script = ExtResource( 6 )
path_to_mesh = NodePath("y bot 2/Armature/Skeleton/Alpha_Surface")
path_vfx_muzzle_flesh = NodePath("muzzle flesh")

[node name="y bot 2" parent="UnitVisual" instance=ExtResource( 3 )]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0 )

[node name="Physical Bone RootMotion" parent="UnitVisual/y bot 2/Armature/Skeleton" index="2"]
transform = Transform( 0.986339, -0.164723, -0.000983738, 0.164726, 0.986322, 0.00589038, -7.10543e-15, -0.00597196, 0.999982, 0.000450914, 0.244352, -99.1304 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 4.01633e-09, 3.07336e-08, 0.458367 )
body_offset = Transform( 0.986339, -0.164723, -0.000983738, 7.10543e-15, 0.00597196, -0.999982, 0.164726, 0.986322, 0.00589038, 0.000450914, 0.458359, -0.00269999 )

[node name="Physical Bone Hips" parent="UnitVisual/y bot 2/Armature/Skeleton" index="3"]
transform = Transform( 0.84298, -0.528487, -0.100418, 0.533806, 0.798688, 0.27775, -0.0665844, -0.287741, 0.955389, 0.502952, -1.14697, -104.365 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.9744e-07, 1.65701e-05, 4.9995 )
body_offset = Transform( 0.990685, 0.113453, 0.0753007, 0.0686136, 0.0617445, -0.995729, -0.11762, 0.991621, 0.0533849, -0.376468, 4.97815, -0.266914 )

[node name="Physical Bone Spine" parent="UnitVisual/y bot 2/Armature/Skeleton" index="4"]
transform = Transform( 0.766901, -0.630542, -0.119492, 0.641171, 0.744792, 0.184891, -0.027585, -0.218408, 0.975468, 2.7157, -3.64775, -114.695 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.05221e-05, 2.98023e-06, 5.86597 )
body_offset = Transform( 0.999999, 9.65893e-05, 1.15782e-05, -5.21541e-08, 0.121236, -0.992624, -9.66191e-05, 0.992624, 0.121236, -7.84397e-05, 5.8227, -0.711169 )

[node name="Physical Bone Spine1" parent="UnitVisual/y bot 2/Armature/Skeleton" index="5"]
transform = Transform( 0.767286, -0.638677, 0.0579995, 0.641119, 0.766095, -0.0454267, -0.0154202, 0.0720398, 0.997282, 3.02635, -4.42663, -127.128 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.43049e-06, -4.82798e-06, 6.72934 )
body_offset = Transform( 1, -5.86212e-05, -7.04266e-06, 2.98023e-08, 0.120847, -0.992671, 5.86212e-05, 0.99267, 0.120847, 4.19617e-05, 6.68002, -0.813215 )

[node name="Physical Bone Spine2" parent="UnitVisual/y bot 2/Armature/Skeleton" index="6"]
transform = Transform( -0.769264, 0.547962, 0.32859, -0.63892, -0.662764, -0.390544, 0.00377455, -0.510374, 0.859944, 0.162835, -1.18141, -140.312 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.7354e-06, 2.42591e-05, 7.52669 )
body_offset = Transform( -1, -3.15309e-05, -1.62423e-06, -7.45058e-08, 0.0526729, -0.998612, 3.17991e-05, -0.998612, -0.0526729, 1.04904e-05, 7.51624, 0.396477 )

[node name="Physical Bone Neck" parent="UnitVisual/y bot 2/Armature/Skeleton" index="7"]
transform = Transform( -0.831045, 0.343943, 0.437112, -0.550624, -0.619784, -0.559178, 0.0785902, -0.705387, 0.704452, -4.66848, 4.77473, -150.585 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.14661e-05, 5.88894e-05, 5.39474 )
body_offset = Transform( -0.999999, 0, -3.57628e-07, 1.49012e-07, 0.291247, -0.956647, 2.38419e-07, -0.956648, -0.291247, -9.53674e-06, 5.16084, 1.57126 )

[node name="Physical Bone Head" parent="UnitVisual/y bot 2/Armature/Skeleton" index="8"]
transform = Transform( -0.87697, -0.0160134, 0.480212, -0.272873, -0.805973, -0.525064, 0.395555, -0.591502, 0.702445, -10.2639, 12.2299, -158.5 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.75528e-05, 1.09152, 6.7778 )
body_offset = Transform( -1, -2.23517e-07, -8.9407e-08, 1.63913e-07, 0.337999, -0.941, -5.96046e-08, -0.940999, -0.338, -2.67029e-05, 6.00897, 3.31801 )

[node name="Physical Bone LeftShoulder" parent="UnitVisual/y bot 2/Armature/Skeleton" index="9"]
transform = Transform( -0.535671, 0.10661, -0.83767, 0.825841, -0.140831, -0.546031, -0.176183, -0.984276, -0.0126038, 9.62043, 7.02484, -141.521 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9.65595e-06, 0.00010759, 6.46114 )
body_offset = Transform( 0.201317, 0.020158, -0.979319, 2.23517e-07, 0.999788, 0.0205791, 0.979525, -0.00414294, 0.201275, 6.32751, -0.133072, -1.30047 )

[node name="Physical Bone LeftArm" parent="UnitVisual/y bot 2/Armature/Skeleton" index="10"]
transform = Transform( -0.545875, 0.824417, 0.149516, 0.341457, 0.381849, -0.858834, -0.765131, -0.417764, -0.489946, 12.984, 22.3208, -134.727 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.28086e-05, 1.6205e-05, 13.7023 )
body_offset = Transform( -1.78814e-07, -1.16229e-06, -0.999999, 1.49012e-07, 0.999999, -6.25849e-07, 1, 4.17233e-07, 1.78814e-07, 13.7023, -7.62939e-06, -1.52588e-05 )

[node name="Physical Bone LeftForeArm" parent="UnitVisual/y bot 2/Armature/Skeleton" index="11"]
transform = Transform( -0.095356, 0.824417, 0.55789, -0.63386, 0.38185, -0.672615, -0.767548, -0.417762, 0.486154, 3.23237, 43.3758, -134.726 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.29527e-05, 4.40967e-05, 13.8072 )
body_offset = Transform( -3.57628e-07, -4.76837e-07, -1, 3.42727e-07, 0.999999, -9.83477e-07, 1, -1.49012e-08, -1.2815e-06, 13.8072, -3.05176e-05, -1.52588e-05 )

[node name="Physical Bone LeftHand" parent="UnitVisual/y bot 2/Armature/Skeleton" index="12"]
transform = Transform( 0.753907, 0.0284005, 0.656366, 0.656895, -0.0486271, -0.752411, 0.0105484, 0.998412, -0.0553164, -8.66325, 57.469, -141.084 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -6.88614e-06, -0.000358644, 6.38777 )
body_offset = Transform( -1.2517e-06, -1.19209e-06, -1, 3.72529e-09, 1, -1.18464e-06, 1, 3.72529e-09, -1.60933e-06, 6.38776, 0.000366211, 1.71661e-05 )

[node name="Physical Bone RightShoulder" parent="UnitVisual/y bot 2/Armature/Skeleton" index="13"]
transform = Transform( 0.842329, 0.249105, 0.47794, -0.476687, -0.0694613, 0.876324, 0.251495, -0.965982, 0.0602361, -8.27363, -9.96759, -141.946 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.22786e-05, 0.00019126, 6.46111 )
body_offset = Transform( 0.201315, -0.0201637, 0.979319, 6.14673e-08, 0.999788, 0.0205851, -0.979526, -0.00414409, 0.201272, -6.32748, -0.133194, -1.30045 )

[node name="Physical Bone RightArm" parent="UnitVisual/y bot 2/Armature/Skeleton" index="14"]
transform = Transform( -0.373334, -0.721404, 0.583264, -0.86268, 0.0387425, -0.504263, 0.341181, -0.691429, -0.636805, -19.3537, -8.72008, -133.61 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.23953e-05, 6.24937e-05, 13.7023 )
body_offset = Transform( -3.8743e-07, 1.16974e-06, 0.999999, -1.30385e-07, 1, -1.22003e-06, -1, -2.57045e-07, 2.08616e-07, -13.7023, -4.57764e-05, 9.53674e-06 )

[node name="Physical Bone RightForeArm" parent="UnitVisual/y bot 2/Armature/Skeleton" index="15"]
transform = Transform( -0.521998, -0.721405, -0.455074, 0.625683, 0.038743, -0.779115, 0.579688, -0.691428, 0.431147, -21.0625, 8.9469, -130.837 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.74145e-05, 2.61544e-05, 13.8072 )
body_offset = Transform( -2.68221e-07, 3.07336e-07, 1, -4.84288e-08, 0.999999, -2.36556e-07, -1, -1.75089e-07, -3.27826e-07, -13.8072, -2.28882e-05, -2.28882e-05 )

[node name="Physical Bone RightHand" parent="UnitVisual/y bot 2/Armature/Skeleton" index="16"]
transform = Transform( 0.101822, -0.994363, -0.0295226, 0.0952753, 0.0392879, -0.994675, 0.990229, 0.098467, 0.098739, -14.5906, 26.0581, -137.421 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.56756e-05, 7.731e-06, 6.38773 )
body_offset = Transform( -1.46776e-06, 1.42306e-06, 0.999999, -1.13156e-07, 0.999999, -1.43424e-06, -0.999999, 7.17118e-08, -1.54972e-06, -6.38772, 1.43051e-06, -4.57764e-05 )

[node name="Physical Bone RightUpLeg" parent="UnitVisual/y bot 2/Armature/Skeleton" index="17"]
transform = Transform( 0.973181, 0.163287, 0.162034, 0.176388, -0.981829, -0.0699796, 0.147664, 0.0966845, -0.984299, -11.0909, -2.95311, -72.8709 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.08778e-05, -1.96993e-05, 20.2998 )
body_offset = Transform( 0.903086, -0.429414, 0.00602669, 2.79397e-08, 0.0140332, 0.9999, -0.429457, -0.902998, 0.0126735, -0.122339, -20.2978, -0.257293 )

[node name="Physical Bone RightLeg" parent="UnitVisual/y bot 2/Armature/Skeleton" index="18"]
transform = Transform( 0.729104, 0.654621, -0.199694, 0.674736, -0.638662, 0.369921, 0.114621, -0.404451, -0.907349, -10.1767, -9.31915, -33.7907 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.15782e-05, 2.26498e-06, 21.0495 )
body_offset = Transform( 0.993022, 0.117786, -0.00581172, 4.47035e-08, 0.0492818, 0.998785, 0.117929, -0.991815, 0.0489376, 0.122345, -21.0239, -1.03011 )

[node name="Physical Bone RightFoot" parent="UnitVisual/y bot 2/Armature/Skeleton" index="19"]
transform = Transform( -0.565393, -0.526668, 0.634784, -0.824821, 0.361023, -0.435122, -6.84236e-06, -0.769599, -0.638527, -11.1887, -13.5308, -9.44522 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.55866e-05, 1.09673e-05, 8.21604 )
body_offset = Transform( -0.999564, -0.0188516, 0.0227217, -8.61564e-09, 0.769605, 0.63852, -0.029523, 0.638242, -0.769269, -0.186666, -5.24611, 6.32034 )

[node name="Physical Bone RightToeBase" parent="UnitVisual/y bot 2/Armature/Skeleton" index="20"]
transform = Transform( -0.589498, -0.0012227, 0.807768, -0.807769, 0.0009005, -0.589497, -6.51062e-06, -0.999997, -0.00151802, -20.4399, -7.0106, -4.1915 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.20549e-07, 5.81068e-06, 4.99626 )
body_offset = Transform( -1, 1.11584e-07, -3.57628e-07, -5.20376e-08, 0.999999, -2.08616e-07, 4.76837e-07, 1.55997e-08, -0.999999, 1.90735e-06, -4.76837e-06, 4.99625 )

[node name="Physical Bone LeftUpLeg" parent="UnitVisual/y bot 2/Armature/Skeleton" index="21"]
transform = Transform( 0.946757, 0.296547, -0.125344, 0.229316, -0.894415, -0.383971, -0.225975, 0.334784, -0.914797, 8.75079, 15.1068, -74.7684 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.54227e-05, -4.01437e-05, 20.2998 )
body_offset = Transform( 0.903896, 0.427711, -0.00602685, 1.2666e-07, 0.0140887, 0.9999, 0.427753, -0.903805, 0.0127348, 0.122347, -20.2977, -0.258556 )

[node name="Physical Bone LeftLeg" parent="UnitVisual/y bot 2/Armature/Skeleton" index="22"]
transform = Transform( 0.952877, -0.30113, -0.0366823, -0.301112, -0.953568, 0.00618489, -0.0368415, 0.0051518, -0.999307, 12.0674, 22.7711, -35.1634 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.67042e-05, -1.66893e-06, 21.0495 )
body_offset = Transform( 0.993005, -0.117932, 0.00581175, 2.79397e-08, 0.0492209, 0.998787, -0.118076, -0.9918, 0.0488763, -0.122318, -21.024, -1.02883 )

[node name="Physical Bone LeftFoot" parent="UnitVisual/y bot 2/Armature/Skeleton" index="23"]
transform = Transform( -0.971986, 0.150093, -0.180872, 0.235038, 0.620622, -0.748055, -2.4981e-05, -0.76961, -0.638514, 14.3256, 28.7869, -8.88238 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.96695e-06, 4.76837e-06, 8.21601 )
body_offset = Transform( -0.999564, 0.0188515, -0.0227215, -7.45044e-08, 0.769605, 0.638521, 0.0295236, 0.638242, -0.769269, 0.186682, -5.2461, 6.32032 )

[node name="Physical Bone LeftToeBase" parent="UnitVisual/y bot 2/Armature/Skeleton" index="24"]
transform = Transform( -0.978502, -0.000105457, -0.206239, 0.206239, -0.000620383, -0.978502, -2.47677e-05, -1, 0.000628956, 16.842, 39.8218, -3.63948 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.09371e-05, 3.56307e-07, 4.99624 )
body_offset = Transform( -1, 5.95755e-08, -8.9407e-08, 1.49303e-08, 1, -1.19035e-07, 1.49012e-08, -2.95695e-08, -1, -1.04904e-05, 2.38419e-07, 4.99624 )

[node name="AnimationTree" type="AnimationTree" parent="UnitVisual"]
tree_root = SubResource( 17 )
anim_player = NodePath("../y bot 2/AnimationPlayer")
active = true
root_motion_track = NodePath("Armature/Skeleton:RootMotion")
parameters/playback = SubResource( 20 )
script = ExtResource( 1 )

[node name="muzzle flesh" parent="UnitVisual" instance=ExtResource( 5 )]
transform = Transform( 0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 1.43548, -0.741855 )

[node name="HitPoints" type="Spatial" parent="UnitVisual"]

[node name="Head" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.100906, 1.63873, -0.109712 )

[node name="RightShoulder" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.144435, 1.44851, -0.0819025 )

[node name="RightArm" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0425591, 1.4118, -0.515205 )

[node name="LeftShoulder" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.138906, 1.44851, 0.103715 )

[node name="LeftArm" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.171199, 1.35166, -0.170359 )

[node name="Spine0" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0352084, 0.888441, 0.0549993 )

[node name="Spine1" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00989328, 1.19108, 0.0549993 )

[node name="Spine2" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0423249, 1.42015, 0.0214574 )

[node name="UnitArea" type="Area" parent="."]
collision_layer = 8

[node name="CollisionShape" type="CollisionShape" parent="UnitArea"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0.8, 0 )
shape = SubResource( 7 )

[node name="PositionUI" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.87442, 0 )

[editable path="UnitVisual/y bot 2"]
