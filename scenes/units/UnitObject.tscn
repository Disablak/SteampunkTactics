[gd_scene load_steps=19 format=2]

[ext_resource path="res://scripts/units/UnitAnimator.gd" type="Script" id=1]
[ext_resource path="res://data/models/player2/y bot 2.tscn" type="PackedScene" id=3]
[ext_resource path="res://scripts/units/UnitObject.gd" type="Script" id=4]
[ext_resource path="res://data/vfx/muzzle flesh.tscn" type="PackedScene" id=5]
[ext_resource path="res://scripts/units/UnitVisual.gd" type="Script" id=6]

[sub_resource type="AnimationNodeAnimation" id=21]
animation = "hit"

[sub_resource type="AnimationNodeAnimation" id=8]
animation = "idle-loop"

[sub_resource type="AnimationNodeAnimation" id=9]
animation = "shoot-loop"

[sub_resource type="AnimationNodeAnimation" id=10]
animation = "running-loop"

[sub_resource type="AnimationNodeStateMachineTransition" id=11]
xfade_time = 0.3

[sub_resource type="AnimationNodeStateMachineTransition" id=13]
switch_mode = 2
auto_advance = true
xfade_time = 0.3

[sub_resource type="AnimationNodeStateMachineTransition" id=14]
xfade_time = 0.3

[sub_resource type="AnimationNodeStateMachineTransition" id=16]
xfade_time = 0.3

[sub_resource type="AnimationNodeStateMachineTransition" id=22]

[sub_resource type="AnimationNodeStateMachineTransition" id=23]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachine" id=17]
states/Hit/node = SubResource( 21 )
states/Hit/position = Vector2( 200.026, -92.2599 )
states/Idle/node = SubResource( 8 )
states/Idle/position = Vector2( 200.013, 48.5 )
states/Shooting/node = SubResource( 9 )
states/Shooting/position = Vector2( 505, 5 )
states/Walking/node = SubResource( 10 )
states/Walking/position = Vector2( 514.875, 140.5 )
transitions = [ "Idle", "Walking", SubResource( 11 ), "Shooting", "Idle", SubResource( 13 ), "Walking", "Idle", SubResource( 14 ), "Idle", "Shooting", SubResource( 16 ), "Idle", "Hit", SubResource( 22 ), "Hit", "Idle", SubResource( 23 ) ]
start_node = "Idle"
graph_offset = Vector2( -318.015, -51 )

[sub_resource type="AnimationNodeStateMachinePlayback" id=20]

[sub_resource type="CapsuleShape" id=7]
radius = 0.350318

[node name="UnitObject" type="Spatial"]
script = ExtResource( 4 )
player_color = Color( 0.196078, 0.729412, 0.913725, 1 )
enemy_color = Color( 0.870588, 0.431373, 0.431373, 1 )
path_to_hit_points = NodePath("UnitVisual/HitPoints")
path_to_shoot_point = NodePath("UnitVisual/muzzle flesh")

[node name="UnitVisual" type="Spatial" parent="."]
script = ExtResource( 6 )
path_to_mesh = NodePath("y bot 2/Armature/Skeleton/Alpha_Surface")
path_vfx_muzzle_flesh = NodePath("muzzle flesh")

[node name="y bot 2" parent="UnitVisual" instance=ExtResource( 3 )]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0 )

[node name="Physical Bone RootMotion" parent="UnitVisual/y bot 2/Armature/Skeleton" index="2"]
transform = Transform( 0.986339, -0.164723, -0.000983738, 0.164726, 0.986322, 0.00589038, -7.10543e-15, -0.00597196, 0.999982, 0.000450914, 0.244352, -99.1304 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.95812e-09, 3.00352e-08, 0.458367 )
body_offset = Transform( 0.986339, -0.164723, -0.000983738, 7.10543e-15, 0.00597196, -0.999982, 0.164726, 0.986322, 0.00589038, 0.000450914, 0.458359, -0.00269999 )

[node name="Physical Bone Hips" parent="UnitVisual/y bot 2/Armature/Skeleton" index="3"]
transform = Transform( 0.900676, -0.434491, 7.05918e-05, 0.419402, 0.869442, 0.261091, -0.113503, -0.235129, 0.965312, 0.00055478, -1.06369, -104.415 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 4.24683e-07, 1.45137e-05, 4.9995 )
body_offset = Transform( 0.990685, 0.113453, 0.0753007, 0.0686136, 0.0617445, -0.995729, -0.11762, 0.991621, 0.0533849, -0.376468, 4.97815, -0.266912 )

[node name="Physical Bone Spine" parent="UnitVisual/y bot 2/Armature/Skeleton" index="4"]
transform = Transform( 0.785824, -0.611632, 0.0915716, 0.599423, 0.789699, 0.130642, -0.152219, -0.0477714, 0.987192, 0.468887, -3.301, -114.933 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.22349e-05, 1.66893e-06, 5.86596 )
body_offset = Transform( 0.999999, 9.65893e-05, 1.15708e-05, -7.45058e-09, 0.121236, -0.992624, -9.65297e-05, 0.992624, 0.121236, -8.01086e-05, 5.82269, -0.711167 )

[node name="Physical Bone Spine1" parent="UnitVisual/y bot 2/Armature/Skeleton" index="5"]
transform = Transform( 0.758201, -0.640802, 0.12043, 0.631609, 0.76768, 0.108328, -0.161869, -0.00607027, 0.986793, -0.878684, -4.79632, -127.364 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7.37544e-06, -4.47035e-06, 6.72933 )
body_offset = Transform( 1, -5.8651e-05, -7.04825e-06, 3.72529e-08, 0.120847, -0.992671, 5.85914e-05, 0.99267, 0.120847, 4.00543e-05, 6.68002, -0.813215 )

[node name="Physical Bone Spine2" parent="UnitVisual/y bot 2/Armature/Skeleton" index="6"]
transform = Transform( -0.729181, 0.631588, 0.263423, -0.662744, -0.747671, -0.0419132, 0.170482, -0.205144, 0.963769, -3.67183, -5.20983, -141.259 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.49286e-06, 2.58088e-05, 7.5267 )
body_offset = Transform( -1, -3.14415e-05, -1.59815e-06, -6.94999e-08, 0.0526729, -0.998612, 3.17991e-05, -0.998612, -0.0526729, 9.53674e-06, 7.51625, 0.396479 )

[node name="Physical Bone Neck" parent="UnitVisual/y bot 2/Armature/Skeleton" index="7"]
transform = Transform( -0.878893, 0.294283, 0.375423, -0.453547, -0.759358, -0.466551, 0.147783, -0.580322, 0.800865, -7.67985, -2.37741, -152.833 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.16268e-05, 6.29425e-05, 5.39474 )
body_offset = Transform( -0.999999, -8.9407e-08, -3.8743e-07, 1.11759e-07, 0.291247, -0.956647, 1.78814e-07, -0.956648, -0.291247, -9.53674e-06, 5.16084, 1.57126 )

[node name="Physical Bone Head" parent="UnitVisual/y bot 2/Armature/Skeleton" index="8"]
transform = Transform( -0.886467, -0.0204126, 0.462277, -0.348503, -0.627792, -0.69583, 0.304501, -0.777934, 0.549404, -12.8161, 5.54092, -160.028 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.37219e-05, 1.09151, 6.77778 )
body_offset = Transform( -1, -2.08616e-07, -8.9407e-08, 1.63913e-07, 0.337999, -0.941, -5.96046e-08, -0.940999, -0.338, -2.28882e-05, 6.00896, 3.318 )

[node name="Physical Bone LeftShoulder" parent="UnitVisual/y bot 2/Armature/Skeleton" index="9"]
transform = Transform( -0.637726, -0.0818726, -0.765899, 0.743072, 0.196458, -0.639723, 0.202842, -0.977087, -0.0644492, 5.16332, 3.20561, -143.387 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.90735e-06, 0.000122827, 6.46114 )
body_offset = Transform( 0.201317, 0.020158, -0.979319, 2.38419e-07, 0.999788, 0.0205791, 0.979525, -0.00414294, 0.201275, 6.32751, -0.133087, -1.30047 )

[node name="Physical Bone LeftArm" parent="UnitVisual/y bot 2/Armature/Skeleton" index="10"]
transform = Transform( -0.706207, 0.707407, 0.0290817, 0.27004, 0.307097, -0.91256, -0.654484, -0.636604, -0.407902, 9.7134, 19.8432, -137.381 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.28086e-05, 1.57966e-05, 13.7023 )
body_offset = Transform( -1.63913e-07, -1.19209e-06, -0.999999, 1.41561e-07, 0.999999, -5.96046e-07, 1, 3.50177e-07, 1.78814e-07, 13.7023, -7.62939e-06, -1.52588e-05 )

[node name="Physical Bone LeftForeArm" parent="UnitVisual/y bot 2/Armature/Skeleton" index="11"]
transform = Transform( -0.322906, 0.707407, 0.628733, -0.660773, 0.307097, -0.684886, -0.677577, -0.636603, 0.368274, 0.633854, 41.8038, -136.877 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.41872e-05, 4.38909e-05, 13.8072 )
body_offset = Transform( -3.27826e-07, -4.61936e-07, -1, 4.17233e-07, 0.999999, -9.68575e-07, 1, -2.98023e-08, -1.37091e-06, 13.8072, -3.05176e-05, -1.52588e-05 )

[node name="Physical Bone LeftHand" parent="UnitVisual/y bot 2/Armature/Skeleton" index="12"]
transform = Transform( 0.755653, 0.0286117, 0.654346, 0.654961, -0.0387515, -0.754668, 0.00376463, 0.998839, -0.0480221, -12.227, 56.0809, -141.655 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.07008e-05, -0.000389138, 6.38776 )
body_offset = Transform( -1.2815e-06, -1.19023e-06, -1, 5.58794e-09, 1, -1.18837e-06, 1, 5.58794e-09, -1.60933e-06, 6.38776, 0.000396729, 2.09808e-05 )

[node name="Physical Bone RightShoulder" parent="UnitVisual/y bot 2/Armature/Skeleton" index="13"]
transform = Transform( 0.706222, -0.403811, 0.581538, -0.672952, -0.127674, 0.728583, -0.219963, -0.905889, -0.361912, -12.4467, -13.7285, -139.383 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -9.53674e-06, 0.0002065, 6.46111 )
body_offset = Transform( 0.201315, -0.0201638, 0.979319, 2.98023e-08, 0.999788, 0.0205851, -0.979526, -0.00414409, 0.201272, -6.32748, -0.133209, -1.30045 )

[node name="Physical Bone RightArm" parent="UnitVisual/y bot 2/Armature/Skeleton" index="14"]
transform = Transform( -0.342363, -0.78996, 0.508675, -0.784852, -0.0571779, -0.617038, 0.516521, -0.610486, -0.600426, -23.1742, -9.98119, -128.818 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 7.08156e-06, 7.07101e-05, 13.7023 )
body_offset = Transform( -4.76837e-07, 1.12131e-06, 0.999999, -1.60187e-07, 1, -1.26287e-06, -1, -3.42727e-07, 2.38419e-07, -13.7023, -5.34058e-05, 3.8147e-06 )

[node name="Physical Bone RightForeArm" parent="UnitVisual/y bot 2/Armature/Skeleton" index="15"]
transform = Transform( -0.462599, -0.78996, -0.402448, 0.709069, -0.0571771, -0.702817, 0.532187, -0.610485, 0.586586, -24.5876, 8.17768, -128.69 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3.4221e-05, 4.11817e-05, 13.8072 )
body_offset = Transform( -2.38419e-07, 2.94298e-07, 1, 1.49012e-08, 0.999999, -2.19792e-07, -1, -1.63913e-07, -2.68221e-07, -13.8072, -3.8147e-05, -3.05176e-05 )

[node name="Physical Bone RightHand" parent="UnitVisual/y bot 2/Armature/Skeleton" index="16"]
transform = Transform( 0.10226, -0.994253, -0.0316507, 0.104785, 0.0424068, -0.993589, 0.989222, 0.098288, 0.10852, -18.8288, 24.2284, -137.482 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -7.10772e-05, 5.77605e-06, 6.38772 )
body_offset = Transform( -1.47521e-06, 1.42306e-06, 0.999999, -1.08965e-07, 0.999999, -1.42679e-06, -0.999999, 8.2422e-08, -1.57207e-06, -6.38771, 3.33786e-06, -6.10352e-05 )

[node name="Physical Bone RightUpLeg" parent="UnitVisual/y bot 2/Armature/Skeleton" index="17"]
transform = Transform( 0.983025, 0.0883323, 0.160799, 0.16154, -0.83221, -0.530404, 0.0869672, 0.547378, -0.832353, -11.1577, 7.27397, -75.5301 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.17123e-05, -2.01762e-05, 20.2998 )
body_offset = Transform( 0.903086, -0.429414, 0.00602669, 1.49012e-08, 0.0140332, 0.9999, -0.429457, -0.902998, 0.0126735, -0.122339, -20.2978, -0.257294 )

[node name="Physical Bone RightLeg" parent="UnitVisual/y bot 2/Armature/Skeleton" index="18"]
transform = Transform( 0.776023, 0.611354, -0.155033, 0.627814, -0.72526, 0.282569, 0.0603104, -0.316612, -0.946636, -11.1586, 12.0931, -38.7074 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.26585e-05, 1.78814e-06, 21.0495 )
body_offset = Transform( 0.993022, 0.117786, -0.00581169, 4.47035e-08, 0.0492818, 0.998785, 0.117929, -0.991815, 0.0489376, 0.122345, -21.0239, -1.03011 )

[node name="Physical Bone RightFoot" parent="UnitVisual/y bot 2/Armature/Skeleton" index="19"]
transform = Transform( -0.825374, -0.355967, 0.438229, -0.564542, 0.529926, -0.632826, -0.00696369, -0.769718, -0.638346, -11.4957, 11.3445, -13.5365 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.70022e-05, 6.67572e-06, 8.21604 )
body_offset = Transform( -0.999564, -0.0188516, 0.0227217, -1.07102e-08, 0.769605, 0.63852, -0.029523, 0.638242, -0.769269, -0.186666, -5.24611, 6.32034 )

[node name="Physical Bone RightToeBase" parent="UnitVisual/y bot 2/Armature/Skeleton" index="20"]
transform = Transform( -0.841682, 0.11183, 0.528265, -0.539928, -0.161678, -0.826036, -0.00696674, -0.980485, 0.196463, -17.7355, 20.6708, -9.27339 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 4.18349e-07, 6.12355e-06, 4.99626 )
body_offset = Transform( -1, 1.11759e-07, -2.98023e-07, -5.96046e-08, 0.999999, -2.23517e-07, 4.76837e-07, 1.49012e-08, -0.999999, 1.90735e-06, -5.00679e-06, 4.99625 )

[node name="Physical Bone LeftUpLeg" parent="UnitVisual/y bot 2/Armature/Skeleton" index="21"]
transform = Transform( 0.910041, 0.413927, 0.0221547, 0.359166, -0.760707, -0.540668, -0.206944, 0.499988, -0.840943, 7.04047, 17.2235, -76.5681 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.60038e-05, -4.04418e-05, 20.2997 )
body_offset = Transform( 0.903896, 0.427711, -0.00602686, 1.49012e-07, 0.0140887, 0.9999, 0.427753, -0.903805, 0.0127348, 0.122346, -20.2977, -0.258556 )

[node name="Physical Bone LeftLeg" parent="UnitVisual/y bot 2/Armature/Skeleton" index="22"]
transform = Transform( 0.99591, 0.0840722, -0.0331075, 0.0823688, -0.694116, 0.715134, 0.037142, -0.714936, -0.698202, 7.28765, 13.1457, -44.8004 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.82465e-05, 1.43051e-06, 21.0495 )
body_offset = Transform( 0.993005, -0.117932, 0.00581175, 4.47035e-08, 0.049221, 0.998787, -0.118076, -0.9918, 0.0488763, -0.122316, -21.024, -1.02882 )

[node name="Physical Bone LeftFoot" parent="UnitVisual/y bot 2/Armature/Skeleton" index="23"]
transform = Transform( -0.939012, -0.317329, -0.132506, -0.323192, 0.946009, 0.0247939, 0.117485, 0.0661058, -0.990872, 9.0732, -2.11123, -21.9625 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.96046e-07, 3.8147e-06, 8.21602 )
body_offset = Transform( -0.999564, 0.0188515, -0.0227215, -7.45058e-08, 0.769605, 0.638521, 0.0295236, 0.638242, -0.769269, 0.186681, -5.2461, 6.32032 )

[node name="Physical Bone LeftToeBase" parent="UnitVisual/y bot 2/Armature/Skeleton" index="24"]
transform = Transform( -0.965872, -0.146763, 0.213429, -0.259011, 0.540439, -0.800524, 0.00214209, -0.828484, -0.560009, 9.09552, 1.68467, -11.0236 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.08627e-05, -3.58076e-07, 4.99624 )
body_offset = Transform( -1, 5.96046e-08, -7.45058e-08, 2.98023e-08, 1, -1.19209e-07, 1.49012e-08, -2.98023e-08, -1, -1.04904e-05, 9.53674e-07, 4.99624 )

[node name="AnimationTree" type="AnimationTree" parent="UnitVisual"]
tree_root = SubResource( 17 )
anim_player = NodePath("../y bot 2/AnimationPlayer")
active = true
root_motion_track = NodePath("Armature/Skeleton:RootMotion")
parameters/playback = SubResource( 20 )
script = ExtResource( 1 )

[node name="muzzle flesh" parent="UnitVisual" instance=ExtResource( 5 )]
transform = Transform( 0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 1.43548, -0.741855 )

[node name="HitPoints" type="Spatial" parent="UnitVisual"]

[node name="Head" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.100906, 1.63873, -0.109712 )

[node name="RightShoulder" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.144435, 1.44851, -0.0819025 )

[node name="RightArm" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0425591, 1.4118, -0.515205 )

[node name="LeftShoulder" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.138906, 1.44851, 0.103715 )

[node name="LeftArm" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.171199, 1.35166, -0.170359 )

[node name="Spine0" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0352084, 0.888441, 0.0549993 )

[node name="Spine1" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00989328, 1.19108, 0.0549993 )

[node name="Spine2" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0423249, 1.42015, 0.0214574 )

[node name="LeftLeg" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.114915, 0.749765, 0.0390549 )

[node name="LeftFoot" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0919117, 0.365846, 0.0903732 )

[node name="RigthLeg" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.108194, 0.737749, -0.163077 )

[node name="RightFoot" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.107799, 0.354459, -0.212042 )

[node name="UnitArea" type="Area" parent="."]
collision_layer = 8

[node name="CollisionShape" type="CollisionShape" parent="UnitArea"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0.8, 0 )
shape = SubResource( 7 )

[node name="PositionUI" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.87442, 0 )

[editable path="UnitVisual/y bot 2"]
