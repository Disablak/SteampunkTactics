[gd_scene load_steps=23 format=2]

[ext_resource path="res://scripts/units/UnitAnimator.gd" type="Script" id=1]
[ext_resource path="res://data/models/player2/Alpha_Body_MAT.material" type="Material" id=2]
[ext_resource path="res://data/models/player2/y bot 2.tscn" type="PackedScene" id=3]
[ext_resource path="res://scripts/units/UnitObject.gd" type="Script" id=4]
[ext_resource path="res://data/vfx/muzzle flesh.tscn" type="PackedScene" id=5]
[ext_resource path="res://scripts/units/UnitVisual.gd" type="Script" id=6]

[sub_resource type="AnimationNodeAnimation" id=21]
animation = "hit"

[sub_resource type="AnimationNodeAnimation" id=8]
animation = "idle-loop"

[sub_resource type="AnimationNodeAnimation" id=24]
animation = "reloading"

[sub_resource type="AnimationNodeAnimation" id=9]
animation = "shoot-loop"

[sub_resource type="AnimationNodeAnimation" id=10]
animation = "running-loop"

[sub_resource type="AnimationNodeStateMachineTransition" id=11]
xfade_time = 0.3

[sub_resource type="AnimationNodeStateMachineTransition" id=13]
switch_mode = 2
auto_advance = true
xfade_time = 0.3

[sub_resource type="AnimationNodeStateMachineTransition" id=14]
xfade_time = 0.3

[sub_resource type="AnimationNodeStateMachineTransition" id=16]
xfade_time = 0.3

[sub_resource type="AnimationNodeStateMachineTransition" id=22]

[sub_resource type="AnimationNodeStateMachineTransition" id=23]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachineTransition" id=25]

[sub_resource type="AnimationNodeStateMachineTransition" id=26]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachine" id=17]
states/Hit/node = SubResource( 21 )
states/Hit/position = Vector2( 200.026, -92.2599 )
states/Idle/node = SubResource( 8 )
states/Idle/position = Vector2( 200.013, 48.5 )
states/Reloading/node = SubResource( 24 )
states/Reloading/position = Vector2( 235.597, 195.407 )
states/Shooting/node = SubResource( 9 )
states/Shooting/position = Vector2( 505, 5 )
states/Walking/node = SubResource( 10 )
states/Walking/position = Vector2( 514.875, 140.5 )
transitions = [ "Idle", "Walking", SubResource( 11 ), "Shooting", "Idle", SubResource( 13 ), "Walking", "Idle", SubResource( 14 ), "Idle", "Shooting", SubResource( 16 ), "Idle", "Hit", SubResource( 22 ), "Hit", "Idle", SubResource( 23 ), "Idle", "Reloading", SubResource( 25 ), "Reloading", "Idle", SubResource( 26 ) ]
start_node = "Idle"
graph_offset = Vector2( -238.403, -417.093 )

[sub_resource type="AnimationNodeStateMachinePlayback" id=20]

[sub_resource type="CapsuleShape" id=7]
radius = 0.350318

[node name="UnitObject" type="Spatial"]
script = ExtResource( 4 )
player_color = Color( 0.196078, 0.729412, 0.913725, 1 )
enemy_color = Color( 0.729412, 0.243137, 0.243137, 1 )
path_to_hit_points = NodePath("UnitVisual/HitPoints")
path_to_shoot_point = NodePath("UnitVisual/HeadPoint")

[node name="UnitVisual" type="Spatial" parent="."]
script = ExtResource( 6 )
original_material = ExtResource( 2 )
unit_mesh = NodePath("y bot 2/Armature/Skeleton/Alpha_Surface")
muzzle_flesh = NodePath("muzzle flesh")

[node name="y bot 2" parent="UnitVisual" instance=ExtResource( 3 )]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0 )

[node name="Physical Bone RootMotion" parent="UnitVisual/y bot 2/Armature/Skeleton" index="2"]
transform = Transform( 0.986339, -0.164723, -0.000983738, 0.164726, 0.986322, 0.00589038, -7.10543e-15, -0.00597196, 0.999982, 0.000450914, 0.244352, -99.1304 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.92902e-09, 3.0268e-08, 0.458367 )
body_offset = Transform( 0.986339, -0.164723, -0.000983738, 7.10543e-15, 0.00597196, -0.999982, 0.164726, 0.986322, 0.00589038, 0.000450914, 0.458359, -0.00269999 )

[node name="Physical Bone Hips" parent="UnitVisual/y bot 2/Armature/Skeleton" index="3"]
transform = Transform( 0.842805, -0.529262, -0.0977794, 0.533735, 0.798473, 0.278501, -0.0693257, -0.28691, 0.955444, 0.489755, -1.15072, -104.366 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.9148e-06, 1.60635e-05, 4.99948 )
body_offset = Transform( 0.990685, 0.113453, 0.0753007, 0.0686136, 0.0617445, -0.995729, -0.11762, 0.991621, 0.0533849, -0.376468, 4.97813, -0.266912 )

[node name="Physical Bone Spine" parent="UnitVisual/y bot 2/Armature/Skeleton" index="4"]
transform = Transform( 0.76749, -0.628594, -0.125809, 0.640184, 0.741286, 0.201643, -0.0334916, -0.2353, 0.971346, 2.72681, -3.75341, -114.674 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.12119e-05, -1.2517e-06, 5.86594 )
body_offset = Transform( 0.999999, 9.66787e-05, 1.15037e-05, 8.19564e-08, 0.121236, -0.992624, -9.65297e-05, 0.992624, 0.121236, -8.86917e-05, 5.82267, -0.711162 )

[node name="Physical Bone Spine1" parent="UnitVisual/y bot 2/Armature/Skeleton" index="5"]
transform = Transform( 0.767809, -0.639244, 0.042856, 0.640273, 0.767984, -0.015785, -0.0228223, 0.0395592, 0.998956, 3.17643, -4.83003, -127.094 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.50558e-06, -6.61612e-06, 6.72934 )
body_offset = Transform( 1, -5.86212e-05, -7.05384e-06, 3.72529e-08, 0.120847, -0.992671, 5.85914e-05, 0.99267, 0.120847, 4.19617e-05, 6.68002, -0.813213 )

[node name="Physical Bone Spine2" parent="UnitVisual/y bot 2/Armature/Skeleton" index="6"]
transform = Transform( -0.769638, 0.556674, 0.312684, -0.638351, -0.680742, -0.359302, 0.0128427, -0.476135, 0.879278, 0.534531, -2.01941, -140.435 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.38291e-06, 4.68493e-05, 7.52669 )
body_offset = Transform( -1, -3.13222e-05, -1.47521e-06, -4.47035e-08, 0.0526728, -0.998612, 3.18289e-05, -0.998612, -0.0526729, 5.72205e-06, 7.51624, 0.3965 )

[node name="Physical Bone Neck" parent="UnitVisual/y bot 2/Armature/Skeleton" index="7"]
transform = Transform( -0.832556, 0.353328, 0.426623, -0.547571, -0.641375, -0.537404, 0.0837452, -0.681027, 0.727453, -4.12047, 3.58412, -150.977 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.46596e-05, 8.58307e-05, 5.39473 )
body_offset = Transform( -0.999999, -3.57628e-07, -5.96046e-07, 1.3411e-07, 0.291247, -0.956647, 1.78814e-07, -0.956648, -0.291247, -1.14441e-05, 5.16083, 1.57128 )

[node name="Physical Bone Head" parent="UnitVisual/y bot 2/Armature/Skeleton" index="8"]
transform = Transform( -0.880821, -0.0134769, 0.473193, -0.262699, -0.817579, -0.512149, 0.393883, -0.575417, 0.7166, -9.6145, 10.8469, -159.131 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3.09019e-05, 1.09151, 6.77778 )
body_offset = Transform( -1, -7.45058e-08, -4.47035e-08, 2.75671e-07, 0.337999, -0.941, -4.47035e-08, -0.940999, -0.338, -3.05176e-05, 6.00896, 3.318 )

[node name="Physical Bone LeftShoulder" parent="UnitVisual/y bot 2/Armature/Skeleton" index="9"]
transform = Transform( -0.524708, 0.118604, -0.84298, 0.823443, -0.18045, -0.537938, -0.215917, -0.976406, -0.00298052, 10.0523, 6.08486, -141.801 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.84126e-06, 0.000138298, 6.46113 )
body_offset = Transform( 0.201317, 0.020158, -0.979319, 2.98023e-07, 0.999788, 0.0205791, 0.979525, -0.00414293, 0.201275, 6.32751, -0.133102, -1.30047 )

[node name="Physical Bone LeftArm" parent="UnitVisual/y bot 2/Armature/Skeleton" index="10"]
transform = Transform( -0.554716, 0.818054, 0.151905, 0.332121, 0.385096, -0.861042, -0.762879, -0.427184, -0.485313, 13.4175, 21.3588, -135.132 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.15835e-05, 2.09759e-05, 13.7023 )
body_offset = Transform( -2.68221e-07, -1.19209e-06, -0.999999, 1.04308e-07, 0.999999, -4.17233e-07, 1, 2.5332e-07, 2.68221e-07, 13.7023, -1.52588e-05, -1.52588e-05 )

[node name="Physical Bone LeftForeArm" parent="UnitVisual/y bot 2/Armature/Skeleton" index="11"]
transform = Transform( -0.105696, 0.818055, 0.565343, -0.629434, 0.385097, -0.674915, -0.769831, -0.427183, 0.47421, 3.53024, 42.4759, -135.029 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 4.75774e-05, 4.20392e-05, 13.8072 )
body_offset = Transform( -3.27826e-07, -4.47035e-07, -1, 6.70552e-07, 0.999999, -8.34465e-07, 1, -4.47035e-08, -1.78814e-06, 13.8072, -3.05176e-05, -2.28882e-05 )

[node name="Physical Bone LeftHand" parent="UnitVisual/y bot 2/Armature/Skeleton" index="12"]
transform = Transform( 0.751032, 0.0288483, 0.659635, 0.6602, -0.0469636, -0.74962, 0.00935375, 0.99848, -0.0543168, -8.48913, 56.583, -141.229 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.27986e-05, -0.000511184, 6.38775 )
body_offset = Transform( -1.3411e-06, -1.19582e-06, -1, 1.11759e-08, 1, -1.19209e-06, 1, 1.67638e-08, -1.57952e-06, 6.38775, 0.000518799, 2.28882e-05 )

[node name="Physical Bone RightShoulder" parent="UnitVisual/y bot 2/Armature/Skeleton" index="13"]
transform = Transform( 0.837231, 0.266826, 0.477333, -0.467386, -0.103987, 0.877916, 0.283887, -0.958118, 0.0376502, -7.87666, -10.8586, -141.907 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.64509e-05, 0.000237485, 6.4611 )
body_offset = Transform( 0.201315, -0.0201638, 0.979319, -1.86265e-08, 0.999788, 0.0205851, -0.979526, -0.00414419, 0.201272, -6.32747, -0.13324, -1.30045 )

[node name="Physical Bone RightArm" parent="UnitVisual/y bot 2/Armature/Skeleton" index="14"]
transform = Transform( -0.377247, -0.712935, 0.591107, -0.860926, 0.0347432, -0.507541, 0.341307, -0.700368, -0.626891, -19.0602, -9.57651, -133.56 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.37789e-07, 7.21649e-05, 13.7023 )
body_offset = Transform( -4.76837e-07, 1.03191e-06, 0.999999, -1.95578e-07, 1, -1.36904e-06, -1, -5.17815e-07, 5.96046e-07, -13.7023, -5.34058e-05, -7.62939e-06 )

[node name="Physical Bone RightForeArm" parent="UnitVisual/y bot 2/Armature/Skeleton" index="15"]
transform = Transform( -0.528848, -0.712935, -0.46048, 0.629229, 0.0347441, -0.776444, 0.569553, -0.700367, 0.430225, -20.8019, 8.09857, -130.91 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3.47438e-05, 4.52878e-05, 13.8072 )
body_offset = Transform( -8.9407e-08, 2.96161e-07, 1, 7.26432e-08, 0.999999, 3.53903e-08, -1, -2.49594e-07, -2.98023e-08, -13.8072, -4.57764e-05, -3.43323e-05 )

[node name="Physical Bone RightHand" parent="UnitVisual/y bot 2/Armature/Skeleton" index="16"]
transform = Transform( 0.101914, -0.994481, -0.0248519, 0.0962795, 0.0347247, -0.994747, 0.990122, 0.0989857, 0.0992872, -14.2852, 25.1733, -137.485 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -8.67643e-05, 5.31048e-07, 6.38771 )
body_offset = Transform( -1.49012e-06, 1.41561e-06, 0.999999, -6.72881e-08, 0.999999, -1.40816e-06, -0.999999, 1.37137e-07, -1.63913e-06, -6.3877, 8.46386e-06, -7.62939e-05 )

[node name="Physical Bone RightUpLeg" parent="UnitVisual/y bot 2/Armature/Skeleton" index="17"]
transform = Transform( 0.97372, 0.163518, 0.158523, 0.175534, -0.982329, -0.0649343, 0.145105, 0.0910548, -0.985216, -11.0011, -3.05007, -72.8271 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.49235e-05, -2.36332e-05, 20.2998 )
body_offset = Transform( 0.903086, -0.429414, 0.00602669, 2.70084e-08, 0.0140332, 0.9999, -0.429457, -0.902998, 0.0126735, -0.122337, -20.2978, -0.257298 )

[node name="Physical Bone RightLeg" parent="UnitVisual/y bot 2/Armature/Skeleton" index="18"]
transform = Transform( 0.725295, 0.659043, -0.199024, 0.678766, -0.636279, 0.366639, 0.114996, -0.401012, -0.908826, -10.0298, -9.44945, -33.6972 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.2584e-05, 2.5034e-06, 21.0495 )
body_offset = Transform( 0.993022, 0.117786, -0.00581168, 5.96046e-08, 0.0492818, 0.998785, 0.117929, -0.991815, 0.0489376, 0.122345, -21.0239, -1.03011 )

[node name="Physical Bone RightFoot" parent="UnitVisual/y bot 2/Armature/Skeleton" index="19"]
transform = Transform( -0.565433, -0.526657, 0.634759, -0.824794, 0.36106, -0.435143, -1.47196e-05, -0.76959, -0.638538, -11.0556, -13.5919, -9.32058 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.92076e-05, 7.15256e-06, 8.21604 )
body_offset = Transform( -0.999564, -0.0188516, 0.0227219, -1.76933e-08, 0.769605, 0.63852, -0.0295227, 0.638242, -0.769269, -0.186665, -5.24611, 6.32034 )

[node name="Physical Bone RightToeBase" parent="UnitVisual/y bot 2/Armature/Skeleton" index="20"]
transform = Transform( -0.589537, 0.000112196, 0.80774, -0.807741, -6.43863e-05, -0.589536, -1.39765e-05, -0.999999, 0.000129103, -20.3065, -7.07129, -4.07499 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.75845e-06, 5.22927e-06, 4.99626 )
body_offset = Transform( -1, 1.11759e-07, -2.98023e-08, -8.94215e-08, 0.999999, -2.83126e-07, 6.55651e-07, 1.49012e-08, -0.999999, 1.90735e-06, -3.8147e-06, 4.99625 )

[node name="Physical Bone LeftUpLeg" parent="UnitVisual/y bot 2/Armature/Skeleton" index="21"]
transform = Transform( 0.94706, 0.295119, -0.126424, 0.229879, -0.898206, -0.374674, -0.224128, 0.325776, -0.918496, 8.79005, 14.9228, -74.716 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.03028e-05, -4.75645e-05, 20.2997 )
body_offset = Transform( 0.903896, 0.427711, -0.00602692, 1.49012e-07, 0.0140887, 0.9999, 0.427753, -0.903805, 0.0127348, 0.122347, -20.2977, -0.258564 )

[node name="Physical Bone LeftLeg" parent="UnitVisual/y bot 2/Armature/Skeleton" index="22"]
transform = Transform( 0.954735, -0.294963, -0.0384561, -0.295225, -0.955426, -0.00115309, -0.0364019, 0.0124534, -0.999259, 12.1659, 22.5529, -35.0369 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.30819e-05, 9.53674e-06, 21.0495 )
body_offset = Transform( 0.993005, -0.117932, 0.00581175, 6.89179e-08, 0.0492213, 0.998787, -0.118076, -0.9918, 0.0488763, -0.122311, -21.024, -1.02882 )

[node name="Physical Bone LeftFoot" parent="UnitVisual/y bot 2/Armature/Skeleton" index="23"]
transform = Transform( -0.97197, 0.150125, -0.180932, 0.235104, 0.620647, -0.748013, -7.85805e-07, -0.769584, -0.638546, 14.4619, 28.7228, -8.75662 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.02169e-06, 3.33786e-06, 8.21601 )
body_offset = Transform( -0.999564, 0.0188515, -0.0227215, -7.45044e-08, 0.769605, 0.638521, 0.0295236, 0.638242, -0.769269, 0.186675, -5.2461, 6.32032 )

[node name="Physical Bone LeftToeBase" parent="UnitVisual/y bot 2/Armature/Skeleton" index="24"]
transform = Transform( -0.978488, -6.79493e-05, -0.206306, 0.206306, -0.000331265, -0.978488, -1.85286e-06, -1, 0.000338249, 16.9792, 39.7573, -3.51201 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -7.04797e-06, -3.45766e-06, 4.99624 )
body_offset = Transform( -1, 5.95974e-08, -7.45058e-08, 5.95974e-08, 1, -1.1918e-07, 0, -2.98314e-08, -1, -6.67572e-06, 4.05312e-06, 4.99624 )

[node name="AnimationTree" type="AnimationTree" parent="UnitVisual"]
tree_root = SubResource( 17 )
anim_player = NodePath("../y bot 2/AnimationPlayer")
active = true
root_motion_track = NodePath("Armature/Skeleton:RootMotion")
parameters/playback = SubResource( 20 )
script = ExtResource( 1 )

[node name="muzzle flesh" parent="UnitVisual" instance=ExtResource( 5 )]
transform = Transform( 0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 1.43548, -0.741855 )

[node name="HitPoints" type="Spatial" parent="UnitVisual"]

[node name="Head" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.100906, 1.63873, -0.109712 )

[node name="RightShoulder" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.144435, 1.44851, -0.0819025 )

[node name="RightArm" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0425591, 1.4118, -0.515205 )

[node name="LeftShoulder" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.138906, 1.44851, 0.103715 )

[node name="LeftArm" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.171199, 1.35166, -0.170359 )

[node name="Spine0" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0352084, 0.888441, 0.0549993 )

[node name="Spine1" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00989328, 1.19108, 0.0549993 )

[node name="Spine2" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0423249, 1.42015, 0.0214574 )

[node name="LeftLeg" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.114915, 0.749765, 0.0390549 )

[node name="LeftFoot" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0919117, 0.365846, 0.0903732 )

[node name="RigthLeg" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.108194, 0.737749, -0.163077 )

[node name="RightFoot" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.107799, 0.354459, -0.212042 )

[node name="HeadPoint" type="Position3D" parent="UnitVisual"]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0.0945676, 1.61928, -0.141629 )

[node name="UnitArea" type="Area" parent="."]
collision_layer = 8

[node name="CollisionShape" type="CollisionShape" parent="UnitArea"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0.8, 0 )
shape = SubResource( 7 )

[node name="PositionUI" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.87442, 0 )

[editable path="UnitVisual/y bot 2"]
