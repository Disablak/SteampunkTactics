[gd_scene load_steps=24 format=3 uid="uid://cj3xg8hji41fv"]

[ext_resource type="Script" path="res://scripts/units/UnitAnimator.gd" id="1"]
[ext_resource type="Material" path="res://data/models/player2/Alpha_Body_MAT.material" id="2"]
[ext_resource type="PackedScene" uid="uid://bbew76llhdkcq" path="res://data/models/player2/y bot 2.tscn" id="3"]
[ext_resource type="Script" path="res://scripts/units/UnitObject.gd" id="4"]
[ext_resource type="PackedScene" path="res://data/vfx/muzzle flesh.tscn" id="5"]
[ext_resource type="Script" path="res://scripts/units/UnitVisual.gd" id="6"]

[sub_resource type="AnimationNodeAnimation" id="21"]
animation = &"hit"

[sub_resource type="AnimationNodeAnimation" id="8"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="24"]
animation = &"reloading"

[sub_resource type="AnimationNodeAnimation" id="9"]
animation = &"shoot"

[sub_resource type="AnimationNodeAnimation" id="10"]
animation = &"walking"

[sub_resource type="AnimationNodeStateMachineTransition" id="11"]
xfade_time = 0.3

[sub_resource type="AnimationNodeStateMachineTransition" id="13"]
xfade_time = 0.3
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachineTransition" id="14"]
xfade_time = 0.3

[sub_resource type="AnimationNodeStateMachineTransition" id="16"]
xfade_time = 0.3

[sub_resource type="AnimationNodeStateMachineTransition" id="22"]

[sub_resource type="AnimationNodeStateMachineTransition" id="23"]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachineTransition" id="25"]

[sub_resource type="AnimationNodeStateMachineTransition" id="26"]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_5jpoi"]

[sub_resource type="AnimationNodeStateMachine" id="17"]
states/End/position = Vector2(643, 28)
states/Hit/node = SubResource("21")
states/Hit/position = Vector2(200.026, -92.2599)
states/Idle/node = SubResource("8")
states/Idle/position = Vector2(200.013, 48.5)
states/Reloading/node = SubResource("24")
states/Reloading/position = Vector2(235.597, 195.407)
states/Shooting/node = SubResource("9")
states/Shooting/position = Vector2(505, 5)
states/Start/position = Vector2(86, 50)
states/Walking/node = SubResource("10")
states/Walking/position = Vector2(514.875, 140.5)
transitions = ["Idle", "Walking", SubResource("11"), "Shooting", "Idle", SubResource("13"), "Walking", "Idle", SubResource("14"), "Idle", "Shooting", SubResource("16"), "Idle", "Hit", SubResource("22"), "Hit", "Idle", SubResource("23"), "Idle", "Reloading", SubResource("25"), "Reloading", "Idle", SubResource("26"), "Start", "Idle", SubResource("AnimationNodeStateMachineTransition_5jpoi")]
graph_offset = Vector2(-95.1753, -110.349)

[sub_resource type="AnimationNodeStateMachinePlayback" id="20"]

[sub_resource type="CapsuleShape3D" id="7"]
radius = 0.350318

[node name="UnitObject" type="Node3D"]
script = ExtResource("4")
player_color = Color(0.196078, 0.729412, 0.913725, 1)
enemy_color = Color(0.729412, 0.243137, 0.243137, 1)
path_to_hit_points = NodePath("UnitVisual/HitPoints")
path_to_shoot_point = NodePath("UnitVisual/HeadPoint")
hit_bullet_point_path = NodePath("UnitVisual/HitPoints/Spine2")

[node name="UnitVisual" type="Node3D" parent="." node_paths=PackedStringArray("unit_mesh", "muzzle_flesh")]
script = ExtResource("6")
original_material = ExtResource("2")
unit_mesh = NodePath("y bot 2/Armature/Skeleton3D/Alpha_Surface")
muzzle_flesh = NodePath("muzzle flesh")

[node name="y bot 2" parent="UnitVisual" instance=ExtResource("3")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="Skeleton3D" parent="UnitVisual/y bot 2/Armature" index="0"]
bones/1/rotation = Quaternion(-0.109883, -0.340334, -0.0261103, 0.933497)
bones/2/rotation = Quaternion(0.0551984, -0.000573598, 0.00214772, 0.998473)
bones/3/rotation = Quaternion(0.133847, 2.22201e-05, -0.00532216, 0.990988)
bones/4/rotation = Quaternion(0.13794, -0.000302306, -0.00524142, 0.990427)
bones/5/rotation = Quaternion(0.00724885, 0.0651744, 0.00769627, 0.997818)
bones/6/rotation = Quaternion(-0.0337661, 0.191706, 0.0906022, 0.976678)
bones/10/rotation = Quaternion(-0.32201, -0.0311583, 0.029594, 0.945761)
bones/11/rotation = Quaternion(-0.250637, -0.223667, -0.473639, 0.814138)
bones/12/rotation = Quaternion(-1.51814e-07, -0.531087, -1.23497e-07, 0.847317)
bones/13/rotation = Quaternion(0.831951, -0.239538, -0.128317, -0.483749)
bones/14/rotation = Quaternion(-0.0179853, 0.044796, -0.441354, 0.896034)
bones/15/rotation = Quaternion(-7.12353e-08, 0.0549648, -0.536636, 0.842022)
bones/16/rotation = Quaternion(-6.4446e-09, 0.015869, -0.154933, 0.987798)
bones/18/rotation = Quaternion(0.0440651, 0.0827957, 0.0312118, 0.995103)
bones/19/rotation = Quaternion(0.167649, -0.023581, 0.0635059, 0.983517)
bones/20/rotation = Quaternion(-0.0405105, -0.0832017, 0.0162574, 0.995576)
bones/22/rotation = Quaternion(-0.0126507, 0.0318706, -0.315583, 0.948278)
bones/23/rotation = Quaternion(9.34961e-10, 0.051071, -0.49862, 0.865315)
bones/24/rotation = Quaternion(-1.09338e-07, 0.0214126, -0.209057, 0.977669)
bones/26/rotation = Quaternion(-0.0258648, 0.0425095, -0.505213, 0.861559)
bones/27/rotation = Quaternion(-1.87547e-08, 0.0600215, -0.586007, 0.80808)
bones/28/rotation = Quaternion(-5.74086e-08, 0.022804, -0.222641, 0.974634)
bones/30/rotation = Quaternion(-0.0695285, -0.00173654, -0.591554, 0.80326)
bones/31/rotation = Quaternion(1.46048e-08, 0.054164, -0.528817, 0.847006)
bones/32/rotation = Quaternion(-4.04452e-09, 0.0124229, -0.121288, 0.99254)
bones/34/rotation = Quaternion(-0.343252, -0.100358, -0.054607, 0.932269)
bones/35/rotation = Quaternion(0.143397, 0.545497, 0.495434, 0.660617)
bones/36/rotation = Quaternion(1.14626e-07, 0.757837, -1.07844e-07, 0.652444)
bones/37/rotation = Quaternion(-0.394936, -0.24383, -0.164362, 0.870378)
bones/38/rotation = Quaternion(-0.000411792, -0.0694393, 0.430992, 0.89968)
bones/39/rotation = Quaternion(8.35086e-08, -0.0666999, 0.819304, 0.569467)
bones/40/rotation = Quaternion(-1.2782e-08, -0.0132862, 0.1632, 0.986504)
bones/42/rotation = Quaternion(0.0686491, -0.0498645, 0.0925993, 0.992082)
bones/43/rotation = Quaternion(0.208182, -0.122786, -0.184175, 0.952714)
bones/44/rotation = Quaternion(0.111798, -0.405946, -0.252966, 0.871044)
bones/46/rotation = Quaternion(-0.00640113, 0.015391, 0.108452, 0.993962)
bones/47/rotation = Quaternion(5.19934e-09, -0.0230353, 0.282952, 0.958858)
bones/48/rotation = Quaternion(-2.70157e-08, -0.0208982, 0.256701, 0.966265)
bones/50/rotation = Quaternion(-0.0365066, -0.00594747, 0.477497, 0.877855)
bones/51/rotation = Quaternion(-3.13812e-08, -0.0620346, 0.761999, 0.6446)
bones/52/rotation = Quaternion(6.70007e-08, -0.0346361, 0.425451, 0.904319)
bones/54/rotation = Quaternion(-0.0448661, -0.00568623, 0.534611, 0.843887)
bones/55/rotation = Quaternion(-5.34524e-08, -0.0535733, 0.658064, 0.751054)
bones/56/rotation = Quaternion(-1.33966e-07, -0.0404923, 0.497385, 0.866584)
bones/58/rotation = Quaternion(0.0352902, 0.04724, -0.0485161, 0.99708)
bones/59/rotation = Quaternion(0.260804, -0.0113299, 0.00810116, 0.965291)
bones/60/rotation = Quaternion(-0.178572, -0.137096, 0.0628961, 0.972297)
bones/61/rotation = Quaternion(-3.75509e-06, 2.91106e-09, 1.81006e-08, 1)
bones/63/rotation = Quaternion(-0.0671053, 0.397025, 0.146933, 0.903481)
bones/64/rotation = Quaternion(0.17788, 0.00153608, -0.00764392, 0.984021)
bones/65/rotation = Quaternion(0.027936, 0.015577, -0.0214015, 0.999259)
bones/66/rotation = Quaternion(-4.9797e-07, -6.89179e-08, -1.89175e-09, 1)

[node name="AnimationTree" type="AnimationTree" parent="UnitVisual"]
tree_root = SubResource("17")
anim_player = NodePath("../y bot 2/AnimationPlayer")
active = true
root_motion_track = NodePath("Armature/Skeleton3D:RootMotion")
parameters/playback = SubResource("20")
script = ExtResource("1")

[node name="muzzle flesh" parent="UnitVisual" instance=ExtResource("5")]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 1.43548, -0.741855)

[node name="HitPoints" type="Node3D" parent="UnitVisual"]

[node name="Head" type="Marker3D" parent="UnitVisual/HitPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.100906, 1.63873, -0.109712)

[node name="RightShoulder" type="Marker3D" parent="UnitVisual/HitPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.144435, 1.44851, -0.0819025)

[node name="RightArm" type="Marker3D" parent="UnitVisual/HitPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0425591, 1.4118, -0.515205)

[node name="LeftShoulder" type="Marker3D" parent="UnitVisual/HitPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.138906, 1.44851, 0.103715)

[node name="LeftArm" type="Marker3D" parent="UnitVisual/HitPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.171199, 1.35166, -0.170359)

[node name="Spine0" type="Marker3D" parent="UnitVisual/HitPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0352084, 0.888441, 0.0549993)

[node name="Spine1" type="Marker3D" parent="UnitVisual/HitPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00989328, 1.19108, 0.0549993)

[node name="Spine2" type="Marker3D" parent="UnitVisual/HitPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0423249, 1.42015, 0.0214574)

[node name="LeftLeg" type="Marker3D" parent="UnitVisual/HitPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.114915, 0.749765, 0.0390549)

[node name="LeftFoot" type="Marker3D" parent="UnitVisual/HitPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0919117, 0.365846, 0.0903732)

[node name="RigthLeg" type="Marker3D" parent="UnitVisual/HitPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.108194, 0.737749, -0.163077)

[node name="RightFoot" type="Marker3D" parent="UnitVisual/HitPoints"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.107799, 0.354459, -0.212042)

[node name="HeadPoint" type="Marker3D" parent="UnitVisual"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0.0945676, 1.57308, -0.141629)

[node name="UnitArea" type="Area3D" parent="."]
collision_layer = 8

[node name="CollisionShape3D" type="CollisionShape3D" parent="UnitArea"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0.8, 0)
shape = SubResource("7")

[node name="PositionUI" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.87442, 0)

[node name="NavigationAgent3d" type="NavigationAgent3D" parent="."]

[editable path="UnitVisual/y bot 2"]
