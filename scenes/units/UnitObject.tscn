[gd_scene load_steps=23 format=2]

[ext_resource path="res://scripts/units/UnitAnimator.gd" type="Script" id=1]
[ext_resource path="res://data/models/player2/Alpha_Body_MAT.material" type="Material" id=2]
[ext_resource path="res://data/models/player2/y bot 2.tscn" type="PackedScene" id=3]
[ext_resource path="res://scripts/units/UnitObject.gd" type="Script" id=4]
[ext_resource path="res://data/vfx/muzzle flesh.tscn" type="PackedScene" id=5]
[ext_resource path="res://scripts/units/UnitVisual.gd" type="Script" id=6]

[sub_resource type="AnimationNodeAnimation" id=21]
animation = "hit"

[sub_resource type="AnimationNodeAnimation" id=8]
animation = "idle-loop"

[sub_resource type="AnimationNodeAnimation" id=24]
animation = "reloading"

[sub_resource type="AnimationNodeAnimation" id=9]
animation = "shoot-loop"

[sub_resource type="AnimationNodeAnimation" id=10]
animation = "running-loop"

[sub_resource type="AnimationNodeStateMachineTransition" id=11]
xfade_time = 0.3

[sub_resource type="AnimationNodeStateMachineTransition" id=13]
switch_mode = 2
auto_advance = true
xfade_time = 0.3

[sub_resource type="AnimationNodeStateMachineTransition" id=14]
xfade_time = 0.3

[sub_resource type="AnimationNodeStateMachineTransition" id=16]
xfade_time = 0.3

[sub_resource type="AnimationNodeStateMachineTransition" id=22]

[sub_resource type="AnimationNodeStateMachineTransition" id=23]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachineTransition" id=25]

[sub_resource type="AnimationNodeStateMachineTransition" id=26]
switch_mode = 2
auto_advance = true

[sub_resource type="AnimationNodeStateMachine" id=17]
states/Hit/node = SubResource( 21 )
states/Hit/position = Vector2( 200.026, -92.2599 )
states/Idle/node = SubResource( 8 )
states/Idle/position = Vector2( 200.013, 48.5 )
states/Reloading/node = SubResource( 24 )
states/Reloading/position = Vector2( 235.597, 195.407 )
states/Shooting/node = SubResource( 9 )
states/Shooting/position = Vector2( 505, 5 )
states/Walking/node = SubResource( 10 )
states/Walking/position = Vector2( 514.875, 140.5 )
transitions = [ "Idle", "Walking", SubResource( 11 ), "Shooting", "Idle", SubResource( 13 ), "Walking", "Idle", SubResource( 14 ), "Idle", "Shooting", SubResource( 16 ), "Idle", "Hit", SubResource( 22 ), "Hit", "Idle", SubResource( 23 ), "Idle", "Reloading", SubResource( 25 ), "Reloading", "Idle", SubResource( 26 ) ]
start_node = "Idle"
graph_offset = Vector2( -238.403, -417.093 )

[sub_resource type="AnimationNodeStateMachinePlayback" id=20]

[sub_resource type="CapsuleShape" id=7]
radius = 0.350318

[node name="UnitObject" type="Spatial"]
script = ExtResource( 4 )
player_color = Color( 0.196078, 0.729412, 0.913725, 1 )
enemy_color = Color( 0.729412, 0.243137, 0.243137, 1 )
path_to_hit_points = NodePath("UnitVisual/HitPoints")
path_to_shoot_point = NodePath("UnitVisual/HeadPoint")
hit_bullet_point = NodePath("UnitVisual/HitPoints/Spine2")

[node name="UnitVisual" type="Spatial" parent="."]
script = ExtResource( 6 )
original_material = ExtResource( 2 )
unit_mesh = NodePath("y bot 2/Armature/Skeleton/Alpha_Surface")
muzzle_flesh = NodePath("muzzle flesh")

[node name="y bot 2" parent="UnitVisual" instance=ExtResource( 3 )]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0 )

[node name="Physical Bone RootMotion" parent="UnitVisual/y bot 2/Armature/Skeleton" index="2"]
transform = Transform( 0.986339, -0.164723, -0.000983738, 0.164726, 0.986322, 0.00589038, -7.10543e-15, -0.00597196, 0.999982, 0.000450914, 0.244352, -99.1304 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 4.01633e-09, 3.07336e-08, 0.458367 )
body_offset = Transform( 0.986339, -0.164723, -0.000983738, 7.10543e-15, 0.00597196, -0.999982, 0.164726, 0.986322, 0.00589038, 0.000450914, 0.458359, -0.00269999 )

[node name="Physical Bone Hips" parent="UnitVisual/y bot 2/Armature/Skeleton" index="3"]
transform = Transform( 0.843043, -0.528332, -0.100713, 0.533762, 0.798817, 0.27746, -0.0661393, -0.287667, 0.955441, 0.504422, -1.14551, -104.365 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.27988e-06, 1.58548e-05, 4.99948 )
body_offset = Transform( 0.990685, 0.113453, 0.0753007, 0.0686137, 0.0617445, -0.995728, -0.11762, 0.991621, 0.053385, -0.376468, 4.97812, -0.266912 )

[node name="Physical Bone Spine" parent="UnitVisual/y bot 2/Armature/Skeleton" index="4"]
transform = Transform( 0.766838, -0.630777, -0.118646, 0.641291, 0.745355, 0.182184, -0.0264848, -0.215793, 0.97608, 2.71361, -3.6291, -114.699 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 2.22131e-05, 5.30481e-06, 5.86589 )
body_offset = Transform( 0.999999, 9.67085e-05, 1.14143e-05, 7.82311e-08, 0.121236, -0.992623, -9.64701e-05, 0.992624, 0.121236, -8.91685e-05, 5.82262, -0.711162 )

[node name="Physical Bone Spine1" parent="UnitVisual/y bot 2/Armature/Skeleton" index="5"]
transform = Transform( 0.767221, -0.638651, 0.0591189, 0.641228, 0.765789, -0.0488972, -0.0140444, 0.0754235, 0.997052, 3.01178, -4.36875, -127.134 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 4.51418e-06, -4.11272e-06, 6.7293 )
body_offset = Transform( 0.999999, -5.87702e-05, -7.04825e-06, 2.98023e-08, 0.120847, -0.992671, 5.86212e-05, 0.992669, 0.120847, 4.29153e-05, 6.67998, -0.813211 )

[node name="Physical Bone Spine2" parent="UnitVisual/y bot 2/Armature/Skeleton" index="6"]
transform = Transform( -0.769211, 0.547508, 0.329468, -0.63899, -0.660811, -0.393724, 0.00214891, -0.513384, 0.858156, 0.134102, -1.07621, -140.302 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3.78321e-06, 7.93934e-05, 7.52667 )
body_offset = Transform( -1, -3.13222e-05, -1.51992e-06, 0, 0.052673, -0.998612, 3.20375e-05, -0.998612, -0.0526728, 7.6592e-06, 7.51621, 0.39653 )

[node name="Physical Bone Neck" parent="UnitVisual/y bot 2/Armature/Skeleton" index="7"]
transform = Transform( -0.83096, 0.343731, 0.437438, -0.550939, -0.617626, -0.561251, 0.0772544, -0.707381, 0.702597, -4.70555, 4.91502, -150.552 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.10247e-05, 0.000144482, 5.39464 )
body_offset = Transform( -0.999998, -2.08616e-07, -7.15256e-07, 1.63913e-07, 0.291247, -0.956647, 4.47035e-07, -0.956648, -0.291247, -1.71661e-05, 5.16072, 1.57131 )

[node name="Physical Bone Head" parent="UnitVisual/y bot 2/Armature/Skeleton" index="8"]
transform = Transform( -0.877158, -0.0151141, 0.479897, -0.273646, -0.805489, -0.525403, 0.394602, -0.592182, 0.702406, -10.3016, 12.3831, -158.457 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -4.99754e-05, 1.09155, 6.77773 )
body_offset = Transform( -1, -7.45058e-08, -4.47035e-08, 3.12924e-07, 0.337999, -0.940999, -8.9407e-08, -0.940999, -0.338, -4.95911e-05, 6.0089, 3.31802 )

[node name="Physical Bone LeftShoulder" parent="UnitVisual/y bot 2/Armature/Skeleton" index="9"]
transform = Transform( -0.536093, 0.105612, -0.837525, 0.82633, -0.137164, -0.546224, -0.172567, -0.984901, -0.0137372, 9.58914, 7.13639, -141.491 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.84126e-06, 0.000260702, 6.46114 )
body_offset = Transform( 0.201317, 0.0201579, -0.979318, 4.54485e-07, 0.999787, 0.020579, 0.979524, -0.00414293, 0.201275, 6.32751, -0.133224, -1.30047 )

[node name="Physical Bone LeftArm" parent="UnitVisual/y bot 2/Armature/Skeleton" index="10"]
transform = Transform( -0.544642, 0.825144, 0.149995, 0.341508, 0.381553, -0.858944, -0.765987, -0.416594, -0.489605, 12.9452, 22.4351, -134.694 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.07668e-05, 4.8635e-05, 13.7023 )
body_offset = Transform( -3.27826e-07, -1.10269e-06, -0.999998, 3.27826e-07, 0.999998, -2.08616e-07, 1, 4.91738e-07, 3.27826e-07, 13.7023, -4.57764e-05, -1.52588e-05 )

[node name="Physical Bone LeftForeArm" parent="UnitVisual/y bot 2/Armature/Skeleton" index="11"]
transform = Transform( -0.0938687, 0.825144, 0.557065, -0.63458, 0.381554, -0.672102, -0.767135, -0.416593, 0.487807, 3.19846, 43.4846, -134.721 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.04577e-05, 3.99818e-05, 13.8072 )
body_offset = Transform( -3.27826e-07, -2.68221e-07, -0.999999, 7.89762e-07, 0.999998, -6.85453e-07, 1, 1.63913e-07, -1.99676e-06, 13.8072, -3.05176e-05, -2.28882e-05 )

[node name="Physical Bone LeftHand" parent="UnitVisual/y bot 2/Armature/Skeleton" index="12"]
transform = Transform( 0.754021, 0.0285001, 0.65623, 0.656771, -0.0480395, -0.752557, 0.0100772, 0.998438, -0.0549409, -8.68487, 57.5716, -141.104 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.16047e-06, -0.000724927, 6.38773 )
body_offset = Transform( -1.37091e-06, -1.21072e-06, -0.999999, 1.86265e-08, 0.999999, -1.17347e-06, 0.999999, 4.47035e-08, -1.3113e-06, 6.38772, 0.000732422, 9.53674e-06 )

[node name="Physical Bone RightShoulder" parent="UnitVisual/y bot 2/Armature/Skeleton" index="13"]
transform = Transform( 0.842584, 0.248075, 0.478028, -0.477628, -0.0659126, 0.876086, 0.248843, -0.966496, 0.0629511, -8.3039, -9.85661, -141.961 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.95639e-05, 0.000329488, 6.46109 )
body_offset = Transform( 0.201315, -0.0201638, 0.979319, -8.9407e-08, 0.999788, 0.0205851, -0.979526, -0.00414415, 0.201272, -6.32745, -0.133331, -1.30046 )

[node name="Physical Bone RightArm" parent="UnitVisual/y bot 2/Armature/Skeleton" index="14"]
transform = Transform( -0.373242, -0.721717, 0.582936, -0.862904, 0.0393068, -0.503834, 0.340713, -0.691071, -0.637443, -19.38, -8.61348, -133.633 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 9.11335e-06, 9.09458e-05, 13.7023 )
body_offset = Transform( -3.57628e-07, 9.18284e-07, 0.999998, -2.57045e-07, 1, -1.62609e-06, -0.999999, -6.66827e-07, 1.2219e-06, -13.7023, -6.86646e-05, -7.62939e-06 )

[node name="Physical Bone RightForeArm" parent="UnitVisual/y bot 2/Armature/Skeleton" index="15"]
transform = Transform( -0.521705, -0.721717, -0.454915, 0.625263, 0.0393077, -0.779423, 0.580405, -0.69107, 0.430756, -21.0865, 9.05198, -130.846 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -3.39208e-05, 6.12152e-05, 13.8072 )
body_offset = Transform( 5.96046e-08, 3.5204e-07, 1, -1.43424e-07, 0.999999, -1.30385e-08, -1, -3.18512e-07, 2.98023e-08, -13.8072, -6.10352e-05, -3.43323e-05 )

[node name="Physical Bone RightHand" parent="UnitVisual/y bot 2/Armature/Skeleton" index="16"]
transform = Transform( 0.10194, -0.994344, -0.0297214, 0.0959646, 0.0395675, -0.994596, 0.990149, 0.0985364, 0.0994556, -14.6155, 26.1668, -137.429 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.000132684, 2.43861e-06, 6.3877 )
body_offset = Transform( -1.49012e-06, 1.38581e-06, 0.999998, -9.28994e-08, 0.999998, -1.38953e-06, -0.999998, 2.25147e-07, -1.66148e-06, -6.38768, 6.4373e-06, -0.00012207 )

[node name="Physical Bone RightUpLeg" parent="UnitVisual/y bot 2/Armature/Skeleton" index="17"]
transform = Transform( 0.973162, 0.163177, 0.162255, 0.176287, -0.981853, -0.0698956, 0.147906, 0.096624, -0.984268, -11.098, -2.95632, -72.8754 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.62721e-05, -2.77758e-05, 20.2999 )
body_offset = Transform( 0.903086, -0.429414, 0.00602674, 2.23517e-08, 0.0140332, 0.9999, -0.429457, -0.902998, 0.0126736, -0.122339, -20.2978, -0.257304 )

[node name="Physical Bone RightLeg" parent="UnitVisual/y bot 2/Armature/Skeleton" index="18"]
transform = Transform( 0.72935, 0.654287, -0.199892, 0.674482, -0.638753, 0.370226, 0.114553, -0.404848, -0.90718, -10.1841, -9.33048, -33.7994 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.49147e-05, 6.79493e-06, 21.0495 )
body_offset = Transform( 0.993022, 0.117786, -0.00581166, 1.3411e-07, 0.0492817, 0.998785, 0.117929, -0.991815, 0.0489374, 0.122356, -21.0239, -1.0301 )

[node name="Physical Bone RightFoot" parent="UnitVisual/y bot 2/Armature/Skeleton" index="19"]
transform = Transform( -0.565382, -0.526673, 0.634791, -0.824828, 0.361006, -0.43512, 2.64715e-06, -0.769603, -0.638521, -11.1919, -13.5486, -9.45761 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.14713e-05, 8.10623e-06, 8.21605 )
body_offset = Transform( -0.999564, -0.0188518, 0.0227222, -1.89029e-08, 0.769605, 0.63852, -0.0295221, 0.638242, -0.769269, -0.186655, -5.24612, 6.32035 )

[node name="Physical Bone RightToeBase" parent="UnitVisual/y bot 2/Armature/Skeleton" index="20"]
transform = Transform( -0.589487, -0.0010999, 0.807776, -0.807777, 0.000799476, -0.589485, 2.78322e-06, -0.999997, -0.00135918, -20.4432, -7.02847, -4.20472 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.879e-06, 7.68688e-06, 4.99625 )
body_offset = Transform( -1, 1.11759e-07, -3.8743e-07, -9.64501e-08, 0.999999, -2.97819e-07, 1.13249e-06, 1.47847e-08, -0.999999, 3.8147e-06, -6.19888e-06, 4.99625 )

[node name="Physical Bone LeftUpLeg" parent="UnitVisual/y bot 2/Armature/Skeleton" index="21"]
transform = Transform( 0.946789, 0.296429, -0.125381, 0.228955, -0.894094, -0.38493, -0.226207, 0.335742, -0.914388, 8.75001, 15.1238, -74.7724 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 3.22536e-05, -7.54744e-05, 20.2998 )
body_offset = Transform( 0.903896, 0.427711, -0.00602699, 2.30968e-07, 0.0140885, 0.999899, 0.427753, -0.903804, 0.0127347, 0.12235, -20.2977, -0.258595 )

[node name="Physical Bone LeftLeg" parent="UnitVisual/y bot 2/Armature/Skeleton" index="22"]
transform = Transform( 0.952639, -0.301886, -0.0366498, -0.301819, -0.953335, 0.00752352, -0.0372108, 0.00389381, -0.999299, 12.0667, 22.7795, -35.1759 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -2.70754e-05, -9.17912e-06, 21.0495 )
body_offset = Transform( 0.993005, -0.117932, 0.00581174, 4.56348e-08, 0.0492213, 0.998787, -0.118076, -0.9918, 0.0488763, -0.122309, -21.024, -1.02884 )

[node name="Physical Bone LeftFoot" parent="UnitVisual/y bot 2/Armature/Skeleton" index="23"]
transform = Transform( -0.971983, 0.150084, -0.180895, 0.23505, 0.620631, -0.748044, -3.30444e-07, -0.769606, -0.638521, 14.3243, 28.767, -8.89497 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -7.13766e-06, 8.58307e-06, 8.21601 )
body_offset = Transform( -0.999564, 0.0188514, -0.0227215, -7.45038e-08, 0.769605, 0.638521, 0.0295237, 0.638242, -0.769269, 0.186673, -5.24611, 6.32032 )

[node name="Physical Bone LeftToeBase" parent="UnitVisual/y bot 2/Armature/Skeleton" index="24"]
transform = Transform( -0.978499, -0.000163892, -0.206251, 0.206251, -0.000779499, -0.978499, -4.14921e-07, -1, 0.00079672, 16.841, 39.8018, -3.65286 )
joint_offset = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -1.94457e-05, -1.21113e-07, 4.99622 )
body_offset = Transform( -1, 5.95319e-08, -7.45058e-08, 5.96337e-08, 1, -1.18918e-07, -1.49012e-08, -2.96277e-08, -1, -1.90735e-05, 7.15256e-07, 4.99622 )

[node name="AnimationTree" type="AnimationTree" parent="UnitVisual"]
tree_root = SubResource( 17 )
anim_player = NodePath("../y bot 2/AnimationPlayer")
active = true
root_motion_track = NodePath("Armature/Skeleton:RootMotion")
parameters/playback = SubResource( 20 )
script = ExtResource( 1 )

[node name="muzzle flesh" parent="UnitVisual" instance=ExtResource( 5 )]
transform = Transform( 0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 1.43548, -0.741855 )

[node name="HitPoints" type="Spatial" parent="UnitVisual"]

[node name="Head" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.100906, 1.63873, -0.109712 )

[node name="RightShoulder" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.144435, 1.44851, -0.0819025 )

[node name="RightArm" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0425591, 1.4118, -0.515205 )

[node name="LeftShoulder" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.138906, 1.44851, 0.103715 )

[node name="LeftArm" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.171199, 1.35166, -0.170359 )

[node name="Spine0" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0352084, 0.888441, 0.0549993 )

[node name="Spine1" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00989328, 1.19108, 0.0549993 )

[node name="Spine2" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0423249, 1.42015, 0.0214574 )

[node name="LeftLeg" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.114915, 0.749765, 0.0390549 )

[node name="LeftFoot" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0919117, 0.365846, 0.0903732 )

[node name="RigthLeg" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.108194, 0.737749, -0.163077 )

[node name="RightFoot" type="Position3D" parent="UnitVisual/HitPoints"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.107799, 0.354459, -0.212042 )

[node name="HeadPoint" type="Position3D" parent="UnitVisual"]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0.0945676, 1.61928, -0.141629 )

[node name="UnitArea" type="Area" parent="."]
collision_layer = 8

[node name="CollisionShape" type="CollisionShape" parent="UnitArea"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0.8, 0 )
shape = SubResource( 7 )

[node name="PositionUI" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.87442, 0 )

[editable path="UnitVisual/y bot 2"]
